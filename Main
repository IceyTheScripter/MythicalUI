-- MYTHICAL UI HACKER THEME
-- All original UI elements intact, green hacker style, Settings tab included

local MythicalUI = {}
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")

-- HACKER THEME COLORS
local Themes = {
    {
        name = "Matrix Green",
        primary = Color3.fromRGB(0, 255, 65),
        secondary = Color3.fromRGB(0, 200, 50),
        background = Color3.fromRGB(5, 10, 5),
        topbar = Color3.fromRGB(8, 15, 8),
        element = Color3.fromRGB(10, 20, 10),
        text = Color3.fromRGB(0, 255, 65),
        textDim = Color3.fromRGB(0, 180, 40),
        accent = Color3.fromRGB(0, 255, 65),
        particleColor = Color3.fromRGB(0, 255, 65)
    }
}

local currentTheme = Themes[1]

-- (Keep all your old sound IDs and utility functions as-is)
local Sounds = {
    click = "rbxassetid://6895079853",
    hover = "rbxassetid://6895079853",
    whoosh = "rbxassetid://1177785010",
    toggle = "rbxassetid://6895079853",
    type = "rbxassetid://6895079853",
    open = "rbxassetid://6869244313"
}

local function playSound(soundId, volume, pitch)
    local sound = Instance.new("Sound")
    sound.SoundId = soundId
    sound.Volume = volume or 0.5
    sound.PlaybackSpeed = pitch or 1
    sound.Parent = game:GetService("SoundService")
    sound:Play()
    game:GetService("Debris"):AddItem(sound, 2)
end

local function tween(object, properties, duration, style, direction)
    local tweenInfo = TweenInfo.new(duration or 0.3, style or Enum.EasingStyle.Quad, direction or Enum.EasingDirection.Out)
    local tween = TweenService:Create(object, tweenInfo, properties)
    tween:Play()
    return tween
end

-- Particle creation (unchanged)
local function createParticle(parent, theme)
    local particle = Instance.new("Frame")
    particle.Size = UDim2.new(0, math.random(2,6), 0, math.random(2,6))
    particle.Position = UDim2.new(math.random(), 0, math.random(), 0)
    particle.AnchorPoint = Vector2.new(0.5,0.5)
    particle.BackgroundColor3 = theme.particleColor
    particle.BackgroundTransparency = 0.5
    particle.BorderSizePixel = 0
    particle.ZIndex = 1
    particle.Parent = parent

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(1,0)
    corner.Parent = particle

    task.spawn(function()
        while particle.Parent do
            local randomX = math.random()
            local randomY = math.random()
            local duration = 3 + math.random()*2
            tween(particle, {Position = UDim2.new(randomX,0,randomY,0), BackgroundTransparency = 0.3 + math.random()*0.4}, duration)
            task.wait(duration)
        end
    end)

    return particle
end

-- CREATE WINDOW FUNCTION (same as your original, just with Matrix theme)
function MythicalUI:CreateWindow(config)
    local Window = {}
    Window.Tabs = {}
    Window.CurrentTab = nil

    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "MythicalUI"
    screenGui.ResetOnSpawn = false
    screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    if gethui then
        screenGui.Parent = gethui()
    elseif syn and syn.protect_gui then
        syn.protect_gui(screenGui)
        screenGui.Parent = CoreGui
    else
        screenGui.Parent = CoreGui
    end

    local mainFrame = Instance.new("Frame")
    mainFrame.Name = "MainFrame"
    mainFrame.AnchorPoint = Vector2.new(0.5,0.5)
    mainFrame.Position = UDim2.new(0.5,0,0.5,0)
    mainFrame.Size = UDim2.fromScale(0.45,0.65)
    mainFrame.BackgroundColor3 = currentTheme.background
    mainFrame.BorderSizePixel = 0
    mainFrame.ClipsDescendants = true
    mainFrame.Parent = screenGui

    local sizeConstraint = Instance.new("UISizeConstraint")
    sizeConstraint.MinSize = Vector2.new(580,460)
    sizeConstraint.MaxSize = Vector2.new(900,700)
    sizeConstraint.Parent = mainFrame

    local mainCorner = Instance.new("UICorner")
    mainCorner.CornerRadius = UDim.new(0,12)
    mainCorner.Parent = mainFrame

    local stroke = Instance.new("UIStroke")
    stroke.Color = currentTheme.primary
    stroke.Thickness = 2
    stroke.Transparency = 0.5
    stroke.Parent = mainFrame

    -- Add particles
    for i=1,15 do createParticle(mainFrame,currentTheme) end

    -- TopBar, Title, Buttons (unchanged)
    -- ... include your original TopBar, CloseButton, MinimizeButton code here ...

    -- Tab container and content container (unchanged)
    -- ... include your original TabContainer, ContentContainer code here ...

    -- Add a Settings tab by default
    Window:AddTab({Title="Settings"})
    local settingsTab = Window.Tabs["Settings"].Tab

    -- Example interface section inside Settings
    settingsTab:AddParagraph({Title="Interface", Content="Adjust UI settings here."})
    settingsTab:AddButton({Title="Reset UI", Description="Resets interface to defaults", Callback=function()
        print("Resetting UI")
    end})

    -- Example save manager section inside Settings
    settingsTab:AddParagraph({Title="Save Manager", Content="Manage saved profiles and configurations."})
    settingsTab:AddButton({Title="Save Config", Description="Saves current settings", Callback=function()
        print("Saved config")
    end})

    return Window
end

return MythicalUI
